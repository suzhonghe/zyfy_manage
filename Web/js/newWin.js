function PopUpBox(){this.t=null,this.oParent=null,this.oDiv=null,this.oTDiv=null,this.settings={w:600,h:300,mark:!0,opacity:.5,drag:!0,dir:"center",time:null,tBar:!0,title:"",close:!0,cBar:!0,content:"",makesure:!0,cancel:!0,callback:null}}function page(e){if(!e.id)return!1;var t=document.getElementById(e.id),n=Number(e.nowNum)||1,i=Number(e.allNum)||5;n>i&&(n=i);var o=e.callBack||function(){};if(n>=2){var s=document.createElement("a");s.href="#"+(n-1),s.innerHTML="上一页",t.appendChild(s)}if(n>=4&&i>=6){var s=document.createElement("a");if(s.href="#1",s.innerHTML="1",t.appendChild(s),n>=5){var r=document.createElement("span");r.innerHTML="...",t.appendChild(r)}}if(5>=i)for(var a=1;i>=a;a++){var s=document.createElement("a");s.href="#"+a,s.innerHTML=a,t.appendChild(s)}else for(var a=1;5>=a;a++){var s=document.createElement("a");1==n||2==n?(s.href="#"+a,s.innerHTML=a):i-n==0||i-n==1?(s.href="#"+(i-5+a),s.innerHTML=i-5+a):(s.href="#"+(n-3+a),s.innerHTML=n-3+a),t.appendChild(s)}if(i-n>=3&&i>=6){if(i>=7&&i-n>=4){var r=document.createElement("span");r.innerHTML="...",t.appendChild(r)}var s=document.createElement("a");s.href="#"+i,s.innerHTML=i,t.appendChild(s)}if(i-n>=1){var s=document.createElement("a");s.href="#"+(n+1),s.innerHTML="下一页",t.appendChild(s)}for(var c=t.getElementsByTagName("a"),a=0;a<c.length;a++)c[a].innerHTML==n&&(c[a].className="on"),c[a].onclick=function(){var n=parseInt(this.getAttribute("href").substring(1));return t.innerHTML="",page({id:e.id,nowNum:n,allNum:i,callBack:e.callBack}),o(n,i),!1}}function setCookie(e,t,n){if(e&&t){var i=escape(e)+"="+escape(t);return n&&(n.maxAge&&(i+="; max-age="+n.maxAge),n.path&&(i+="; path="+n.path),n.domain&&(i+="; domain="+n.domain),n.secure&&(i+="; secure")),document.cookie=i,i}return""}function getCookie(e){return document.cookie.length>0&&(c_start=document.cookie.indexOf(e+"="),-1!=c_start)?(c_start=c_start+e.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""}function removeCookie(e){setCookie(e,"",-1)}function checkMobile(e){var t=/^[1][34578][0-9]{9}$/;return t.test(e)}function checkCard(e){var t=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;return t.test(e)}function drag(e,t){e.onmousedown=function(n){var n=n||window.event,i=n.clientX-t.offsetLeft,o=n.clientY-t.offsetTop;return e.setCapture&&e.setCapture(),document.onmousemove=function(e){var e=e||window.event;t.style.left=e.clientX-i+"px",t.style.top=e.clientY-o+"px"},document.onmouseup=function(){document.onmousemove=document.onmouseup=null,e.releaseCapture&&e.releaseCapture()},!1}}PopUpBox.prototype={constructor:PopUpBox,json:{},init:function(e){this.extend(this.settings,e),void 0==this.json[e.iNow]&&(this.json[e.iNow]=!0),this.json[e.iNow]&&(this.createFrame(),this.json[e.iNow]=!1)},createFrame:function(){if(this.oParent=document.createElement("div"),this.oDiv=document.createElement("div"),this.oDiv.style.cssText="width:"+this.settings.w+"px;height:"+this.settings.h+"px;position:absolute;border:1px solid #666;z-index:2;background-color:#fff;",this.oDiv.style.left=(this.viewWidth()-this.settings.w)/2+"px",this.oDiv.style.top=(this.viewHeight()-this.settings.h)/2+"px",this.oParent.appendChild(this.oDiv),document.body.appendChild(this.oParent),this.settings.mark&&this.createMark(),this.settings.tBar&&this.createTitle(),this.settings.cBar&&this.createContent(),(this.settings.makesure||this.settings.cancel)&&this.createBtn(),this.settings.time&&0!=this.settings.time){var e=this;this.t&&clearTimeout(this.t),this.t=setTimeout(function(){document.body.removeChild(e.oParent),e.json[e.settings.iNow]=!0},e.settings.time)}},createTitle:function(){this.oTDiv=document.createElement("div"),this.oTDiv.style.cssText="height:45px;background-color:#d7dee4;overflow:hidden;line-height:45px;font-size:14px;",this.oTDiv.innerHTML="<span style='float:left;padding-left:20px;'>"+this.settings.title+"</span><span style='float:right;margin-right:10px;cursor:pointer;font-size:16px;'></span>",this.settings.close&&this.createClose(),this.settings.drag&&this.drag(this.oTDiv,this.oDiv),this.oDiv.insertBefore(this.oTDiv,this.oDiv.children[0])},createContent:function(){this.oCDiv=document.createElement("div"),this.oCDiv.style.cssText="margin-bottom:50px;padding:10px 20px;",this.oCDiv.innerHTML=this.settings.content,this.oDiv.appendChild(this.oCDiv)},createBtn:function(){var e=this;this.oBDiv=document.createElement("div"),this.oBDiv.style.cssText="height:50px;background-color:#f6f6f6;bottom:0;position:absolute;width:90%;text-align:right;padding:0 5%;line-height:50px;",this.settings.makesure&&(this.makesureBtn=document.createElement("span"),this.makesureBtn.style.cssText="display:inline-block;height:34px;width:60px;color:#fff;background-color:#4eb6e4;vertical-align: middle;margin:8px;line-height:36px;border-radius:4px;text-align:center;cursor:pointer;",this.makesureBtn.innerHTML="确定",this.oBDiv.appendChild(this.makesureBtn),this.makesureBtn.onclick=function(){e.settings.callback&&e.settings.callback(),document.body.removeChild(e.oParent),e.json[e.settings.iNow]=!0}),this.settings.cancel&&(this.cancelBtn=document.createElement("span"),this.cancelBtn.style.cssText="display:inline-block;height:34px;width:60px;color:#fff;background-color:#4eb6e4;vertical-align: middle;margin:8px;line-height:36px;border-radius:4px;text-align:center;cursor:pointer;",this.cancelBtn.innerHTML="取消",this.oBDiv.appendChild(this.cancelBtn),this.cancelBtn.onclick=function(){document.body.removeChild(e.oParent),e.json[e.settings.iNow]=!0}),this.oDiv.appendChild(this.oBDiv)},createClose:function(){var e=this;this.oSpan=document.createElement("span"),this.oSpan.id="close",this.oSpan.style.cssText="float:right;margin-right:10px;cursor:pointer;font-size:16px;",this.oSpan.innerHTML="X",this.oTDiv.appendChild(this.oSpan),this.oSpan.onclick=function(){document.body.removeChild(e.oParent),e.json[e.settings.iNow]=!0}},createMark:function(){this.oMark=document.createElement("div"),this.oMark.style.cssText="width:"+document.documentElement.offsetWidth+"px;height:"+document.documentElement.offsetHeight+"px;opacity:"+this.settings.opacity+";filter:alpha(opacity="+100*this.settings.opacity+");background-color:#000;position:absolute;left:0;top:0;z-index:1;",this.oParent.appendChild(this.oMark)},viewWidth:function(){return document.documentElement.clientWidth},viewHeight:function(){return document.documentElement.clientHeight},extend:function(e,t){for(var n in t)e[n]=t[n]},drag:function(e,t){e.onmousedown=function(n){var n=n||window.event,i=n.clientX-t.offsetLeft,o=n.clientY-t.offsetTop;return e.setCapture&&e.setCapture(),document.onmousemove=function(e){var e=e||window.event;t.style.left=e.clientX-i+"px",t.style.top=e.clientY-o+"px"},document.onmouseup=function(){document.onmousemove=document.onmouseup=null,e.releaseCapture&&e.releaseCapture()},!1}}};