$(function(){function a(a,e,t){d=null,d=paging({url:"../../repaymentQuery",data:{pageNo:a,pageSize:e,params:t}}),d.results&&$("#dueRepayTab").tableFill({tableData:d.results,repayUrl:"../../repay",advlUrl:"../../repayByPlatform"})}function e(e,t,l){if($("#duePage").html(""),d){if(0==d.totalPage)return;page({id:"duePage",nowNum:d.pageNo,allNum:d.totalPage,callBack:function(r){e=r,t=$(".selectBox p").html(),n=$("#dataStar").val()||n,i=$("#dataEnd").val()||i,l.startTime=n,l.endTime=i,d=null,a(e,t,l)}})}}var t=1,l=10,n=new Date("1970/01/01").toLocaleDateString(),i=new Date((new Date).getTime()-864e5).toLocaleDateString(),r={startTime:n,endTime:i,duedate:"",status:"OVERDUE"},d=new Object;a(t,l,r),e(t,l,r),$(".function .selectBox ul li").click(function(){l=$(this).html(),a(t,l,r),e(t,l,r)}),$("#searchTime").click(function(){var d=new Date(i).getTime();if(""!=$("#dataStar").val()){var u=new Date($("#dataStar").val()).getTime();if(u>d)return void alert("逾期未还查询的开始时间不能大于昨天");r.startTime=$("#dataStar").val()}else r.startTime=n;if(""!=$("#dataEnd").val()&&""!=$("#dataStar").val()){var u=new Date($("#dataStar").val()).getTime(),m=new Date($("#dataEnd").val()).getTime();if(u>m)return void alert("结束时间不能小于开始时间");if(m>d)return void alert("结束时间不能大于昨天");r.endTime=$("#dataEnd").val()}else if(""!=$("#dataEnd").val()&&""==$("#dataStar").val()){var m=new Date($("#dataEnd").val()).getTime();if(m>d)return void alert("结束时间不能大于昨天");r.endTime=$("#dataEnd").val()}else r.endTime=i;l=$(".selectBox p").html(),a(t,l,r),e(t,l,r)})});